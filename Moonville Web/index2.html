<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="reset.css"/>
		<link rel="stylesheet" type="text/css" href="style.css"/>
		<script src="easel-lib.js"></script>
		<script>
			function init()
			{
				var stage = new createjs.Stage("boundary");			

				boundary.width = window.innerWidth;
				boundary.height = window.innerHeight;
				
				circle = new createjs.Shape();
				stage.addChild(circle).setTransform(100,100).graphics.f("green").dc(0,0,50);
				stage.update();

				// display image
				var myimage = new Image();
				myimage.onload = function() {boundary.getContext('2d').drawImage(myimage, 20, 140);}
				myimage.src = 'easel/EaselJS/examples/assets/daisy.png';
				
				var base = new Image();
				base.onload = function() {boundary.getContext('2d').drawImage(base, 20, 140);}
				base.src = 'base.png';
				
				var excavator = new Image();
				excavator.onload = function() {boundary.getContext('2d').drawImage(excavator, 460, 460);}
					
				excavator.src = 'excavator2.png';
				
				stage.update();
				
				var dragger = new createjs.Container();
				
				dragger.x = dragger.y = 100;
				dragger.addChild(circle);
				stage.addChild(dragger);
				
				dragger.addEventListener("mousedown", function(evt) {
					var offset = {x:evt.target.x-evt.stageX, y:evt.target.y-evt.stageY};
					
					evt.addEventListener("mousemove", function(ev) {
						ev.target.y = ev.stageX+offset.x;
							ev.target.y = ev.stageY+offset.y;
							stage.update();
					});
				});
				
				stage.update();
			}		
		</script>
	</head>
	<body onLoad="init()">
			<canvas id="boundary" width="inherit">Hello World</canvas>
	</body>
</html>